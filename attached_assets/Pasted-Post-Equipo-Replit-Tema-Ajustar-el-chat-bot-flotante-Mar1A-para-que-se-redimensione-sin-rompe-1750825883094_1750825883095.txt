Post → Equipo Replit
Tema: Ajustar el “chat-bot flotante” (Mar1A) para que se redimensione sin romper el layout

Contenedor fijo + modal centrado

css
Copiar
Editar
/* wrapper del widget flotante  */
.chat-launcher {
  position: fixed;
  bottom: 2rem;
  right: 2rem;
  z-index: 50;
}

/* ventana expandida (modal) */
.chat-modal {
  position: fixed;
  inset: 0;                 /* ocupa toda la pantalla */
  backdrop-filter: blur(3px);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 60;
}
.chat-box {
  width: min(90vw, 420px);  /* máx 420 px, 5 % margen lateral */
  max-height: 85vh;
  border-radius: 1rem;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}
Animación de apertura/cierre

js
Copiar
Editar
const [open, setOpen] = useState(false);

return (
  <>
    <button className="chat-launcher" onClick={() => setOpen(true)}>
      {/* ícono flotante */}
    </button>

    {open && (
      <div className="chat-modal" onClick={() => setOpen(false)}>
        <div
          className="chat-box shadow-xl bg-white dark:bg-slate-900"
          onClick={e => e.stopPropagation()}  /* evita cerrar al click interno */
        >
          {/* header, mensajes, input */}
        </div>
      </div>
    )}
  </>
);
Evitar “desborde” en desktop ancho

max-width de 420 px mantiene proporción.

Usar overflow-y:auto en el contenedor de mensajes (flex:1) para que nunca empuje el footer fuera de la pantalla.

Mobile first

En breakpoints <640px la chat-box puede usar width: 95vw; height: 95vh; border-radius: 0.5rem.

css
Copiar
Editar
@media (max-width: 640px) {
  .chat-box { width: 95vw; height: 95vh; }
}
Transiciones suaves

css
Copiar
Editar
.chat-box { transform: scale(0.8); opacity: 0; transition: .25s; }
.chat-modal[aria-show='true'] .chat-box { transform: scale(1); opacity: 1; }
Focus-trap + ESC

Añadir tabIndex={-1} al .chat-box, y escuchar keydown global (key === 'Escape') para cerrar: mejora accesibilidad y evita quedar “atrapado”.

Z-index coherente

Asegurarse de que navbar u otros elementos tengan z-index < 50, para que la ventana del chat quede siempre encima.

Con estas reglas el widget seguirá “volando” en miniatura y, al expandirlo, se comportará como un modal responsivo sin desalinear el resto del sitio.












Herramientas


